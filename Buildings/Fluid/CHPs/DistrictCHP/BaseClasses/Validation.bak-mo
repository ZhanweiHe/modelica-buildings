within GED.DistrictElectrical.CHP.BaseClasses;
package Validation

  model RatSteMasToExhMas
    extends Modelica.Icons.Example;
    SteamToExhaustMassFlowRatio ratSteMasToExhMas(a={-0.4726,0.6840})
      annotation (Placement(transformation(extent={{-8,-10},{12,10}})));
    Buildings.Controls.OBC.CDL.Reals.Sources.Ramp TExh(
      y(final unit="degC", displayUnit="degC"),
      final height=30,
      final duration=360,
      final offset=510,
      final startTime=600) "Exhaust gas temperature"
      annotation (Placement(transformation(extent={{-80,-10},{-60,10}})));
    .GED.DistrictElectrical.CHP.BaseClasses.degC_to_degF Temp_toF
      "Convert the temperature unit"
      annotation (Placement(transformation(extent={{-40,-10},{-20,10}})));
  equation
    connect(Temp_toF.u, TExh.y)
      annotation (Line(points={{-42,0},{-58,0}}, color={0,0,127}));
    connect(Temp_toF.y, ratSteMasToExhMas.TExh)
      annotation (Line(points={{-18,0},{-14,0},{-14,4},{-10,4}},
                                                 color={0,0,127}));
    annotation (Icon(coordinateSystem(preserveAspectRatio=false)), Diagram(
          coordinateSystem(preserveAspectRatio=false)));
  end RatSteMasToExhMas;

  model ExhTemp
    extends Modelica.Icons.Example;
    ExhaustTemperature exhTemp(a={1.4041,0.373,-0.7931,0,0}, TExh_des=510)
      annotation (Placement(transformation(extent={{-10,-10},{10,10}})));
    Buildings.Controls.OBC.CDL.Reals.Sources.Ramp LoaFac(
      y(final unit="K", displayUnit="degC"),
      final height=0.4,
      final duration=360,
      final offset=0.6,
      final startTime=600) "Part load ratio"
      annotation (Placement(transformation(extent={{-80,20},{-60,40}})));
    Buildings.Controls.OBC.CDL.Reals.Sources.Constant TAmb(k=15, y(final unit=
            "K", displayUnit="degC")) "Ambient temperature"
      annotation (Placement(transformation(extent={{-80,-40},{-60,-20}})));
  equation
    connect(LoaFac.y, exhTemp.loaFac) annotation (Line(points={{-58,30},{-40,30},
            {-40,3},{-12,3}}, color={0,0,127}));
    connect(exhTemp.TAmb, TAmb.y) annotation (Line(points={{-12,-5},{-40,-5},{
            -40,-30},{-58,-30}}, color={0,0,127}));
    annotation (Icon(coordinateSystem(preserveAspectRatio=false)), Diagram(
          coordinateSystem(preserveAspectRatio=false)));
  end ExhTemp;

  model ExhMas
    extends Modelica.Icons.Example;
    ExhaustMassFlow exhMas(a={0.351,0.139,0.5182,0,0}, mExh_des=28.64)
      annotation (Placement(transformation(extent={{-10,-10},{12,12}})));
    Buildings.Controls.OBC.CDL.Reals.Sources.Ramp LoaFac(
      y(final unit="K", displayUnit="degC"),
      final height=0.4,
      final duration=360,
      final offset=0.6,
      final startTime=600) "Part load ratio"
      annotation (Placement(transformation(extent={{-80,20},{-60,40}})));
    Buildings.Controls.OBC.CDL.Reals.Sources.Constant TAmb(k=15, y(final unit=
            "K", displayUnit="degC")) "Ambient temperature"
      annotation (Placement(transformation(extent={{-80,-42},{-60,-22}})));
  equation
    connect(exhMas.loaFac, LoaFac.y) annotation (Line(points={{-12.2,4.3},{-40,
            4.3},{-40,30},{-58,30}}, color={0,0,127}));
    connect(exhMas.TAmb, TAmb.y) annotation (Line(points={{-12.2,-4.5},{-40,
            -4.5},{-40,-32},{-58,-32}}, color={0,0,127}));
    annotation (Icon(coordinateSystem(preserveAspectRatio=false)), Diagram(
          coordinateSystem(preserveAspectRatio=false)));
  end ExhMas;

end Validation;
